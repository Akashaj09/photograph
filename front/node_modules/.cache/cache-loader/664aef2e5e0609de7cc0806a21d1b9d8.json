{"remainingRequest":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\editphoto.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\editphoto.vue","mtime":1527058182515},{"path":"C:\\xampp\\htdocs\\photography\\package.json","mtime":1526886124924},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526485514234},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { publishphoto, getHeader } from '@/config';\nexport default {\n  name: 'edit',\n  data: function data() {\n    return {\n      photo: {\n        id: '',\n        title: '',\n        description: '',\n        status: 0\n      },\n      errors: '',\n      messages: ''\n    };\n  },\n  methods: {\n    editPhoto: function editPhoto() {\n      var _this = this;\n\n      axios.put(publishphoto + '/' + this.$route.params.id, this.photo, {\n        headers: getHeader()\n      }).then(function (response) {\n        if (response.data.success) {\n          //displaying message\n          _this.messages = true; //waiting for some momment\n\n          setTimeout(function () {\n            _this.$router.push({\n              path: \"/photos/\".concat(_this.photo.id)\n            });\n          }, 1000);\n        } else {}\n      }).catch(function (err) {\n        _this.errors = err.response.data.errors;\n      });\n    },\n    getPhoto: function getPhoto(id) {\n      var _this2 = this;\n\n      axios.get(publishphoto + '/' + id, {\n        headers: getHeader()\n      }).then(function (response) {\n        _this2.photo.id = response.data[0].id;\n        _this2.photo.title = response.data[0].title;\n        _this2.photo.description = response.data[0].description;\n      }).catch(function (errr) {\n        console.log(errr.response);\n      });\n    }\n  },\n  created: function created() {\n    this.getPhoto(this.$route.params.id);\n  }\n};",{"version":3,"sources":["editphoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;QAEA;wBACA;;;YAGA;eACA;qBACA;gBACA,AACA;AALA;cAMA;gBACA,AACA;AATA;AAUA;;;AAGA;;;iBACA;kCACA;;AAEA;2BAEA,KAHA,CAIA;;iCACA;;kDACA;;aACA;eAEA,CACA;8BACA;yCACA;AACA;AACA;;AACA;;;iBACA;kCACA;2CACA;8CACA;oDACA;AACA,+BACA;yBACA;AACA;AACA,AACA;AA/BA;8BAgCA;qCACA;AACA;AAhDA","file":"editphoto.vue","sourceRoot":"src\\pages\\admin","sourcesContent":["<template>\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-md-9\">\r\n\t\t\t<b-form @submit.prevent=\"editPhoto\" enctype=\"multipart/form-data\">\r\n\t\t\t\t<b-alert variant=\"success\" v-show=\"messages\" show>Edited successfully</b-alert>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t            label=\"Photo title:\"\r\n\t\t\t\t            label-for=\"title\">\r\n\t\t\t\t<b-form-input id=\"title\"\r\n\t\t\t\t              type=\"text\"\r\n\t\t\t\t              v-model=\"photo.title\"\r\n\t\t\t\t              required\r\n\t\t\t\t              placeholder=\"Photo title\">\r\n\t\t\t\t</b-form-input>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t            label=\"Photo Description:\"\r\n\t\t\t\t            label-for=\"description\">\r\n\t\t\t\t\t<b-form-textarea id=\"textarea1\"\r\n\t\t\t\t\t\t\tv-model=\"photo.description\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter something\"\r\n\t\t\t\t\t\t\t:rows=\"3\"\r\n\t\t\t\t\t\t\t:max-rows=\"6\">\r\n\t\t\t\t    </b-form-textarea>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t            label=\"Visibility:\"\r\n\t\t\t\t            label-for=\"vs\">\r\n\t\t\t\t<b-form-checkbox id=\"vs\"\r\n                     v-model=\"photo.status\"\r\n                     value=\"1\"\r\n                     unchecked-value=\"0\" checked=\"1\">Visible\r\n\t\t\t    </b-form-checkbox>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t\t<div class=\"col-md-12 text-danger\" v-show=\"errors\">\r\n\t\t\t\t\t<p v-for='err in errors'>{{ err[0] }}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<b-button type=\"submit\" variant=\"outline-success\">Submit</b-button>\r\n\t\t\t\t</b-form>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<label>Rules</label>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { publishphoto, getHeader } from '@/config'\r\n\texport default{\r\n\t\tname: 'edit',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tphoto: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tstatus: 0\r\n\t\t\t\t},\r\n\t\t\t\terrors: '',\r\n\t\t\t\tmessages: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\teditPhoto: function(){\r\n\r\n\t\t\t\taxios.put(publishphoto+'/'+this.$route.params.id, this.photo, { headers: getHeader() })\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif(response.data.success){\r\n\t\t\t\t\t\t\t//displaying message\r\n\t\t\t\t\t\t\tthis.messages = true\r\n\r\n\t\t\t\t\t\t\t//waiting for some momment\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.$router.push({ path: `/photos/${ this.photo.id }` });\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.errors = err.response.data.errors;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetPhoto: function(id){\r\n\t\t\t\taxios.get(publishphoto+'/'+id, { headers: getHeader() })\r\n\t\t\t\t\t.then(response =>{\r\n\t\t\t\t\t\tthis.photo.id = response.data[0].id\r\n\t\t\t\t\t\tthis.photo.title = response.data[0].title\r\n\t\t\t\t\t\tthis.photo.description = response.data[0].description\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(errr => {\r\n\t\t\t\t\t\tconsole.log(errr.response)\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getPhoto(this.$route.params.id)\r\n\t\t}\r\n\t}\r\n</script>"]}]}