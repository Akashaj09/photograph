{"remainingRequest":"C:\\xampp\\htdocs\\photography\\node_modules\\thread-loader\\dist\\cjs.js!C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\photo.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\photo.vue","mtime":1527070230100},{"path":"C:\\xampp\\htdocs\\photography\\package.json","mtime":1526886124924},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526485514234},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1526485517278},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["import _objectSpread from \"C:\\\\xampp\\\\htdocs\\\\photography\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { publishphoto, getHeader, apiDomain, semdMailUrl } from '@/config';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'photo',\n  data: function data() {\n    return {\n      emailid: 'akashajaj09@gmail.com',\n      url: document.URL,\n      phts: '',\n      domain: apiDomain,\n      messages: '',\n      success: '',\n      sendername: '',\n      photoUrl: \"http://\" + window.location.host + \"/photo/\" + this.$route.params.id,\n      ds: 0\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    userStore: function userStore(state) {\n      return state.userStore;\n    }\n  })),\n  created: function created() {\n    this.getPhoto(this.$route.params.id);\n  },\n  methods: {\n    sendMail: function sendMail() {\n      var _this = this;\n\n      this.ds = 1;\n      axios.post(semdMailUrl, {\n        email: this.emailid,\n        sendername: this.sendername,\n        url: this.photoUrl\n      }, {\n        headers: getHeader()\n      }).then(function (response) {\n        if (response.data.success) {\n          _this.ds = 0;\n          _this.success = 'success';\n          _this.messages = response.data.message;\n        } else {\n          _this.ds = 0;\n          _this.success = 'danger';\n          _this.messages = response.data.message;\n        }\n      }).catch(function (error) {\n        console.log(error.response);\n      });\n    },\n    getPhoto: function getPhoto(id) {\n      var _this2 = this;\n\n      axios.get(publishphoto + '/' + id, {\n        headers: getHeader()\n      }).then(function (response) {\n        _this2.phts = response.data;\n      }).catch(function (errr) {\n        console.log(errr.response);\n      });\n    },\n    deleteData: function deleteData(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      axios.delete(publishphoto + '/' + this.$route.params.id, {\n        headers: getHeader()\n      }).then(function (response) {\n        if (response.data.success) {\n          _this3.success = 'success';\n          _this3.messages = response.data.message;\n          setTimeout(function () {\n            _this3.$router.push({\n              path: '/dashboard'\n            });\n          }, 1000);\n        } else {\n          _this3.success = 'danger';\n          _this3.messages = response.data.message;\n        }\n      }).catch(function (err) {\n        console.log(err.response);\n      });\n    }\n  }\n};",{"version":3,"sources":["photo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;QAEA;wBACA;;eAEA;oBACA;YACA;cACA;gBACA;eACA;kBACA;kFACA;UACA,AACA;AAVA;AAWA;AACA;;mBAEA,AACA,AACA;;AAHA;8BAIA;qCACA;AACA;;;AAEA;;gBACA;;;;;;iBACA;kCACA;mCACA;qBACA;0BACA;yCACA;eACA;qBACA;0BACA;yCACA;AACA;gCACA;0BACA;AACA;AACA;;AACA;;;iBACA;kCACA;+BACA;AACA,+BACA;yBACA;AACA;AACA;;AACA;;YACA;;iBACA;kCACA;mCACA;2BACA;0CACA;iCACA;;oBACA;;aACA;eACA;2BACA;0CACA;AACA;AACA,8BACA;wBACA;AACA;AACA,AACA;AA9CA;AAvBA","file":"photo.vue","sourceRoot":"src\\pages\\admin","sourcesContent":["<style scoped>\r\n\t.post-title{\r\n\t\tmin-height: 40px;\r\n\t}\r\n\t.post-title h2{\r\n\r\n\t}\r\n\t.post-description{\r\n\t\tpadding: 10px 0px 20px 0px; \r\n\t}\r\n</style>\r\n<template>\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-md-8 col-sm-8 col-xs-12\" v-for=\"photo in phts\">\r\n\t\t\t<div class=\"post-title\">\r\n\t\t\t\t<h2>{{ photo.title }}</h2>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"post-image\">\r\n\t\t\t\t<img :src=\"domain+photo.image\" class=\"responsive\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"post-description\" v-html=\"photo.description\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-4 col-sm-4 col-xs-12\"  v-for=\"photo in phts\">\r\n\t\t\t<label class=\"btn-block text-center bg-success pd-10 cl-wht\">Activity</label>\r\n\t\t\t \r\n\t\t\t<b-btn v-b-modal.emailmodal variant=\"outline-success\" size=\"sm\" class=\"btn-block mrb-10\">Email</b-btn>\r\n\t\t\t<b-modal id=\"emailmodal\" title=\"Send email\" ref=\"emailmodal\">\r\n\t\t\t\t<b-alert :variant=\"success\" v-show=\"messages\" show>{{ messages }}</b-alert>\r\n\t\t\t\t<b-form-group id=\"exampleInputGroup1\"\r\n\t\t\t\t            label=\"Email address:\"\r\n\t\t\t\t            label-for=\"exampleInput1\">\r\n\t\t\t\t<b-form-input id=\"exampleInput1\"\r\n\t\t\t\t              type=\"email\"\r\n\t\t\t\t              v-model=\"emailid\"\r\n\t\t\t\t              required\r\n\t\t\t\t              placeholder=\"Enter email\">\r\n\t\t\t\t</b-form-input>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t\t<b-form-group id=\"exampleInputGroup1\"\r\n\t\t\t\t            label=\"From:\"\r\n\t\t\t\t            label-for=\"exampleInput1\">\r\n\t\t\t\t<b-form-input id=\"exampleInput1\"\r\n\t\t\t\t              type=\"text\"\r\n\t\t\t\t              :value=\"userStore.authUser.name\"\r\n\t\t\t\t              v-model=\"sendername\"\r\n\t\t\t\t              required\r\n\t\t\t\t              placeholder=\"Enter Name\">\r\n\t\t\t\t</b-form-input>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t\t<div slot=\"modal-footer\" align=\"right\" class=\"btn-group\">\r\n\t\t\t\t\t<button class=\"btn btn-outline-success btn-sm\" v-on:click=\"sendMail\" :disabled=\"ds == 1\">Send</button>\r\n\t\t\t\t</div>\r\n\t\t \t</b-modal>\r\n\r\n\t\t \t<social-sharing :url=\"url\"\r\n                      :title=\"photo.title\"\r\n                      :description=\"photo.shortDescription\"\r\n                      hashtags=\"#photographer\"\r\n                      inline-template>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<network network=\"facebook\" class=\"btn btn-sm btn-outline-success\">\r\n\t\t\t\t\t\t<i class=\"fa fa-facebook\"></i> Facebook\r\n\t\t\t\t\t</network>\r\n\t\t\t\t\t<network network=\"googleplus\" class=\"btn btn-sm btn-outline-success\">\r\n\t\t\t\t\t\t<i class=\"fa fa-google-plus\"></i> Google +\r\n\t\t\t\t\t</network>\r\n\t\t\t\t\t<network network=\"linkedin\" class=\"btn btn-sm btn-outline-success\">\r\n\t\t\t\t\t\t<i class=\"fa fa-linkedin\"></i> LinkedIn\r\n\t\t\t\t\t</network>\r\n\t\t\t\t\t<network network=\"sms\" class=\"btn btn-sm btn-outline-success\">\r\n\t\t\t\t        Send as sms\r\n\t\t\t\t    </network>\r\n\t\t\t\t</div>\r\n\t\t\t</social-sharing>\r\n\r\n\t\t\t<div v-if=\"userStore.authUser && userStore.authUser.id == photo.admin\">\r\n\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t<router-link :to=\"'/addphotos'\" class=\"btn-link btn\">Add new</router-link>\r\n\t\t\t\t\t<router-link :to=\"'/photo/'+photo.id+'/edit'\" class=\"btn-link btn\">Edit</router-link>\r\n\t\t\t\t\t<b-btn v-b-modal.modal1 variant=\"link\">Delete</b-btn>\r\n\t\t\t\t</div>\r\n\t\t\t\t<b-modal id=\"modal1\" title=\"Delete?\" ok-variant=\"danger\" size=\"sm\" ok-title=\"Confirm\" @ok=\"deleteData\">\r\n\t\t\t\t\t<b-alert :variant=\"success\" v-show=\"messages\" show>{{ messages }}</b-alert>\r\n\r\n\t\t\t\t</b-modal>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { publishphoto, getHeader, apiDomain, semdMailUrl } from '@/config'\r\n\timport { mapState } from 'vuex'\r\n\texport default{\r\n\t\tname: 'photo',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\temailid: 'akashajaj09@gmail.com',\r\n\t\t\t\turl: document.URL,\r\n\t\t\t\tphts: '',\r\n\t\t\t\tdomain: apiDomain,\r\n\t\t\t\tmessages: '',\r\n\t\t\t\tsuccess: '',\r\n\t\t\t\tsendername: '',\r\n\t\t\t\tphotoUrl: \"http://\"+window.location.host+\"/photo/\"+this.$route.params.id,\r\n\t\t\t\tds: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuserStore: state => state.userStore \r\n\t\t\t})\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getPhoto(this.$route.params.id)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsendMail: function(){\r\n\t\t\t\tthis.ds = 1;\r\n\t\t\t\taxios.post(semdMailUrl, {email: this.emailid, sendername: this.sendername, url: this.photoUrl}, { headers: getHeader() })\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif(response.data.success){\r\n\t\t\t\t\t\t\tthis.ds = 0;\r\n\t\t\t\t\t\t\tthis.success = 'success'\r\n\t\t\t\t\t\t\tthis.messages = response.data.message\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.ds = 0;\r\n\t\t\t\t\t\t\tthis.success = 'danger'\r\n\t\t\t\t\t\t\tthis.messages = response.data.message\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.response)\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetPhoto: function(id){\r\n\t\t\t\taxios.get(publishphoto+'/'+id, { headers: getHeader() })\r\n\t\t\t\t\t.then(response =>{\r\n\t\t\t\t\t\tthis.phts = response.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(errr => {\r\n\t\t\t\t\t\tconsole.log(errr.response)\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteData: function(event){\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\taxios.delete(publishphoto+'/'+this.$route.params.id, { headers: getHeader() })\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif(response.data.success){\r\n\t\t\t\t\t\t\tthis.success = 'success'\r\n\t\t\t\t\t\t\tthis.messages = response.data.message\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.$router.push({ path: '/dashboard' })\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.success = 'danger'\r\n\t\t\t\t\t\t\tthis.messages = response.data.message\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err.response)\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.mrb-10{\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n</style>"]}]}