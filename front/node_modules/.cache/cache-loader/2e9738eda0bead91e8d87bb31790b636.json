{"remainingRequest":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\userphotos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\photography\\src\\pages\\admin\\userphotos.vue","mtime":1527093110705},{"path":"C:\\xampp\\htdocs\\photography\\package.json","mtime":1526886124924},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526485514234},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { publishphoto, getHeader, apiDomain } from '@/config';\nexport default {\n  name: 'userphotos',\n  created: function created() {\n    this.getData(this.$route.params.pagenum);\n  },\n  updated: function updated() {\n    if (this.$route.params.pagenum == this.last) {\n      this.next = '';\n    } else {\n      this.next = parseInt(this.$route.params.pagenum) + 1;\n    }\n\n    this.prev = this.$route.params.pagenum - 1;\n    this.prevurl = '/userphotos/' + this.prev;\n    this.nexturl = '/userphotos/' + this.next;\n  },\n  data: function data() {\n    return {\n      photos: '',\n      loading: true,\n      next: '',\n      prev: '',\n      domain: apiDomain,\n      last: '',\n      prevurl: '',\n      nexturl: ''\n    };\n  },\n  methods: {\n    getData: function getData(pagenum) {\n      var _this = this;\n\n      axios.get(publishphoto + '?page=' + pagenum, {\n        headers: getHeader()\n      }).then(function (response) {\n        _this.photos = response.data;\n        _this.last = response.data.last_page;\n        _this.loading = false;\n      }).catch(function (err) {\n        console.log(err.response);\n      });\n    }\n  },\n  watch: {\n    '$route': function $route(to, from) {\n      loading: true;\n\n      this.getData(this.$route.params.pagenum);\n    }\n  }\n};",{"version":3,"sources":["userphotos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;QAEA;8BACA;oCACA;AACA;8BACA;iDACA;kBACA;WACA;yDACA;AACA;;6CACA;yCACA;yCAEA;AACA;wBACA;;cAEA;eACA;YACA;YACA;cACA;YACA;eACA;eACA,AACA;AATA;AAUA;;;AAEA;;;iBACA;kCACA;gCACA;mCACA;wBACA;AACA,8BACA;wBACA;AACA;AACA,AACA;AAZA;;wCAcA;eACA;;sCACA;AACA,AACA;AALA;AAzCA","file":"userphotos.vue","sourceRoot":"src\\pages\\admin","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"row\">\r\n\t        <div class=\"col-md-12 text-center\" v-show=\"loading\">\r\n\t            <img src=\"../../assets/loader.gif\" alt=\"\" height=\"60\">\r\n\t        </div>\r\n\t        <div class=\"col-md-4 col-xs-6 col-sm-6 col-lg-4\" v-for=\"photo in photos.data\">\r\n\t        \t<b-link v-bind:to=\"'/photos/'+photo.id\">\r\n\t\t            <div class=\"post\">\r\n\t\t                <img :src=\"domain+photo.image\" class=\"responsive\">\r\n\t\t                <div class=\"post-s\">\r\n\t\t                    <p>{{ photo.title }}</p>\r\n\t\t                </div>\r\n\t\t            </div>\r\n\t        \t</b-link>\r\n\t            <br>\r\n\t        </div>\r\n\t    </div>\r\n\t    <div class=\"row\">\r\n\t        <div class=\"col-md-12 text-center\">\r\n\t            <ul class=\"pagination\">\r\n\t                <li class=\"page-item\"><router-link v-bind:to=\"prevurl\" v-show=\"prev\" class=\"page-link\">Prev</router-link></li>\r\n\t                <li class=\"page-item\"><router-link v-bind:to=\"nexturl\" v-show=\"next\" class=\"page-link\">Next</router-link></li>\r\n\t            </ul>\r\n\t        </div>\r\n\t    </div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { publishphoto, getHeader, apiDomain } from '@/config'\r\n\texport default{\r\n\t\tname: 'userphotos',\r\n\t\tcreated(){\r\n\t\t\tthis.getData(this.$route.params.pagenum)\r\n\t\t},\r\n\t\tupdated(){ \r\n\t\t\tif(this.$route.params.pagenum == this.last){\r\n\t\t\t\tthis.next = ''\r\n\t\t\t}else{\r\n\t\t\t\tthis.next = parseInt(this.$route.params.pagenum)+1;\r\n\t\t\t}\r\n\t\t\tthis.prev = this.$route.params.pagenum-1;\r\n\t\t\tthis.prevurl = '/userphotos/'+this.prev;\r\n\t\t\tthis.nexturl = '/userphotos/'+this.next;\r\n\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tphotos: '',\r\n\t\t\t\tloading: true,\r\n\t\t\t\tnext: '',\r\n\t\t\t\tprev: '',\r\n\t\t\t\tdomain: apiDomain,\r\n\t\t\t\tlast: '',\r\n\t\t\t\tprevurl: '',\r\n\t\t\t\tnexturl: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetData: function(pagenum){\r\n\t\t\t\taxios.get(publishphoto+'?page='+pagenum, { headers: getHeader() })\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tthis.photos = response.data;\r\n\t\t\t\t\t\tthis.last = response.data.last_page;\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err.response)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'$route' (to, from) {\r\n\t\t\t\tloading: true\r\n\t\t    \tthis.getData(this.$route.params.pagenum)\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n</script>"]}]}