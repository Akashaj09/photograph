{"remainingRequest":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\photography\\src\\pages\\home\\activate.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\photography\\src\\pages\\home\\activate.vue","mtime":1526711243309},{"path":"C:\\xampp\\htdocs\\photography\\package.json","mtime":1526886124924},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526485514234},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\xampp\\htdocs\\photography\\node_modules\\vue-loader\\lib\\index.js","mtime":1526010763000}],"contextDependencies":[],"result":["import _objectSpread from \"C:\\\\xampp\\\\htdocs\\\\photography\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport { activateUrl } from '@/config';\nexport default {\n  name: 'Activate',\n  data: function data() {\n    return {\n      form: {\n        code: '',\n        error: ''\n      }\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    userStore: function userStore(state) {\n      return state.userStore;\n    }\n  })),\n  created: function created() {\n    var userObj = JSON.parse(window.localStorage.getItem('authUser'));\n\n    if (userObj != null) {\n      this.$router.push({\n        path: '/dashboard'\n      });\n    }\n  },\n  methods: {\n    activateUser: function activateUser() {\n      var _this = this;\n\n      this.form.error = '';\n      var email = this.$route.params.email;\n\n      if (this.form.code.length >= 6) {\n        axios.post(activateUrl, {\n          code: this.form.code,\n          email: email\n        }).then(function (response) {\n          if (response.data.success) {\n            _this.$store.dispatch('setEmail', email);\n\n            _this.$router.push({\n              path: '/login'\n            });\n          } else {\n            _this.form.error = response.data.message;\n          }\n        }).catch(function (err) {\n          console.log(err.response);\n        });\n      } else {\n        this.form.error = 'Activation code length is six digit';\n      }\n    }\n  }\n};",{"version":3,"sources":["activate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;QAEA;wBACA;;;cAGA;eACA,AACA,AACA;AAJA;AADA;AAMA;AACA;;mBAEA,AACA,AACA;;AAHA;8BAIA;yDACA;;yBACA;;cACA;;AACA;AACA;;;AAEA;;wBACA;qCACA;;sCACA;;;iBACA;oCACA;qCACA;8CACA;;;oBACA;;iBACA;6CACA;AACA;AACA,gCACA;0BACA;AACA;aACA;0BACA;AACA;AACA,AACA;AArBA;AArBA","file":"activate.vue","sourceRoot":"src\\pages\\home","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t<small>We have sended a activation code in your email please confirm the pin</small>\r\n\t\t\t\t<b-alert show variant=\"danger\" v-show=\"form.error\">{{ form.error }}</b-alert>\r\n\t\t\t\t<b-form @submit.prevent=\"activateUser\">\r\n\t\t\t\t\t<b-form-group id=\"exampleInputGroup2\"\r\n\t\t\t\t\t            label=\"Activation code:\"\r\n\t\t\t\t\t            label-for=\"exampleInput2\">\r\n\t\t\t\t\t<b-form-input id=\"exampleInput2\"\r\n\t\t\t\t\t              type=\"text\"\r\n\t\t\t\t\t              v-model=\"form.code\"\r\n\t\t\t\t\t              required\r\n\t\t\t\t\t              placeholder=\"Activation code\">\r\n\t\t\t\t\t</b-form-input>\r\n\t\t\t\t\t</b-form-group>\r\n\t\t\t\t\t<b-button type=\"submit\" variant=\"primary\">Submit</b-button>\r\n\t\t\t\t\t</b-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { mapState } from 'vuex'\r\n\timport { activateUrl } from '@/config'\r\n\texport default{\r\n\t\tname: 'Activate',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tcode: '',\r\n\t\t\t\t\terror: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuserStore: state => state.userStore \r\n\t\t\t})\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tconst userObj = JSON.parse(window.localStorage.getItem('authUser'))\r\n\t\t    if(userObj != null){\r\n\t\t     this.$router.push({ path: '/dashboard' })\r\n\t\t    }\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tactivateUser: function() {\r\n\t\t\t\tthis.form.error = '';\r\n\t\t\t\tvar email = this.$route.params.email\r\n\t\t\t\tif(this.form.code.length >= 6){\r\n\t\t\t\t\taxios.post(activateUrl, { code: this.form.code, email: email })\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\tif(response.data.success){\r\n\t\t\t\t\t\t\t\tthis.$store.dispatch('setEmail', email)\r\n\t\t\t\t\t\t\t\tthis.$router.push({ path: '/login' })\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.form.error = response.data.message;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(err.response)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.form.error = 'Activation code length is six digit'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>"]}]}